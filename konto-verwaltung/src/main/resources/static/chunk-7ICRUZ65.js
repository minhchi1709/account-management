import{a as b}from"./chunk-HWVXGORX.js";import{j as h,na as C,oa as T,qa as N}from"./chunk-S4C5R5PF.js";import{Ab as P,Ac as S,Db as V,Fb as d,Pb as x,Va as v,Wa as l,Yb as E,Zb as I,aa as s,ka as f,la as o,lb as y,nb as c,sa as u,ta as D,wb as m,xb as p,xc as w,yb as g}from"./chunk-DWDGEKHO.js";function G(i,t){if(i&1){let r=P();m(0,"div")(1,"app-graph",2),V("filteringEvent",function(e){u(r);let a=d();return D(a.filter(e))}),p()()}if(i&2){let r=d();v(),c("setTitle",r.title)("setData1",r.filteredVIBDataPoints)("setData2",r.filteredPaypalDataPoints)("setXTitle",r.xTitle)("setCurrency",!0)("setYTitle",r.yTitle)}}function _(i,t){i&1&&(m(0,"div",3)(1,"div",4),g(2,"mat-spinner"),p()())}var R=(()=>{let t=class t{constructor(n,e){this.currencyService=n,this.dateService=e,this.title="Geldwechselsrate von EUR zu VND",this.VIBDataPoints=[],this.filteredVIBDataPoints=[],this.paypalDataPoints=[],this.filteredPaypalDataPoints=[],this.xTitle="Datum",this.yTitle="VND",this.loaded=!1,this.titles={none:"Geldwechselsrate von EUR zu VND",week:"Geldwechselsrate von EUR zu VND innerhalb 7 Tagen",month:"Geldwechselsrate von EUR zu VND dieses Monats","3months":"Geldwechselsrate von EUR zu VND in letzten 3 Monaten","6months":"Geldwechselsrate von EUR zu VND in letzten 6 Monaten","9months":"Geldwechselsrate von EUR zu VND in letzten 9 Monaten",year:"Geldwechselsrate von EUR zu VND in diesem Jahr"}}ngOnInit(){this.currencyService.getAllRates().subscribe({next:n=>{this.paypalDataPoints=n,this.filteredPaypalDataPoints=this.paypalDataPoints.map(e=>({label:this.dateService.reformatDate(e.date||""),y:e.rate})),this.currencyService.getAllVibRates().subscribe({next:e=>{this.VIBDataPoints=e,this.filteredVIBDataPoints=this.VIBDataPoints.map(a=>({label:this.dateService.reformatDate(a.date||""),y:a.rate})),this.loaded=!0}})}})}filter(n){if(this.title=this.titles[n],n=="none")this.filteredPaypalDataPoints=this.paypalDataPoints.map(e=>({label:this.dateService.reformatDate(e.date||""),y:e.rate})),this.filteredVIBDataPoints=this.VIBDataPoints.map(e=>({label:this.dateService.reformatDate(e.date||""),y:e.rate}));else{let e=this.dateService.getDate(n)||new Date;this.filteredPaypalDataPoints=this.paypalDataPoints.slice().filter(a=>new Date(a.date)>=e).map(a=>({label:this.dateService.reformatDate(a.date||""),y:a.rate})),this.filteredVIBDataPoints=this.VIBDataPoints.slice().filter(a=>new Date(a.date)>=e).map(a=>({label:this.dateService.reformatDate(a.date||""),y:a.rate}))}}};t.\u0275fac=function(e){return new(e||t)(l(N),l(b))},t.\u0275cmp=f({type:t,selectors:[["app-currency-exchange"]],standalone:!0,features:[E],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"filteringEvent","setTitle","setData1","setData2","setXTitle","setCurrency","setYTitle"],[1,"d-flex","justify-content-center"],["role","status",2,"width","3rem","height","3rem","margin-top","20%"]],template:function(e,a){if(e&1&&y(0,G,2,6,"div",1)(1,_,3,0,"ng-template",null,0,I),e&2){let M=x(2);c("ngIf",a.loaded)("ngIfElse",M)}},dependencies:[C,T,w]});let i=t;return i})();var U=[{path:"",component:R}],B=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o({type:t}),t.\u0275inj=s({imports:[h.forChild(U),h]});let i=t;return i})();var L=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o({type:t}),t.\u0275inj=s({imports:[S,B]});let i=t;return i})();export{L as CurrencyModule};
