import{b as ie,c as oe,d as D,e as ae,f as se,g as le,h as ce,i as _,j as A,k as de,l as fe}from"./chunk-OI2KO3XB.js";import{Y as v,Z as O,_ as ne,c as q,d as Q,e as ee,h as te,i as re,na as me,oa as pe,pa as he,qa as ue}from"./chunk-S4C5R5PF.js";import{$ as b,$a as L,Db as I,Fb as B,Ha as P,Ib as J,Jb as $,Pb as z,Qb as d,Rb as U,Ta as F,Tb as X,Va as c,Wa as m,Xa as R,Yb as y,Z as E,Za as j,Zb as G,bb as W,ca as Y,cb as V,ea as C,f as M,fa as w,ka as g,lb as T,na as N,nb as p,oc as H,wb as s,wc as K,xb as l,xc as Z,yb as h}from"./chunk-DWDGEKHO.js";function Oe(i,t){if(i&1&&(s(0,"div")(1,"h1",2),d(2),l(),h(3,"app-graph",3),l()),i&2){let n=B();c(2),X(" Kontostand: ",n.currencyManagementService.numberInEUR(n.balance)," | ",n.currencyManagementService.numberInVND(n.Math.round(n.balance*n.rate))," "),c(),p("setTitle",n.title)("setData1",n.dataPoints)("setXTitle",n.xTitle)("setYTitle",n.yTitle)}}function xe(i,t){i&1&&(s(0,"div",4)(1,"div",5),h(2,"mat-spinner"),l()())}var ge=(()=>{let t=class t{constructor(e,r,o,a){this.transactionService=e,this.currencyService=r,this.currencyManagementService=o,this.observer=a,this.loaded=!1,this.balance=0,this.rate=0,this.dataPoints=[],this.title="",this.xTitle="",this.yTitle="",this.Math=Math}ngOnInit(){this.observer.objectUpdate$.subscribe(e=>{e&&this.init()}),this.init(),this.title="J\xE4hrliche Analyse",this.xTitle="Jahr",this.yTitle="\u20AC",this.currencyService.getTodayVibCurrency().subscribe({next:e=>{this.rate=e.rate||0,this.loaded=!0}})}init(){this.transactionService.getAllYears().subscribe({next:e=>{for(let r of e.reverse())this.transactionService.getAllTransactionsOfYear({year:r}).subscribe({next:o=>{this.dataPoints.push({label:r,y:this.currencyManagementService.sum(o)})}})}}),this.transactionService.getAllTransactions().subscribe({next:e=>this.balance=this.currencyManagementService.sum(e)})}};t.\u0275fac=function(r){return new(r||t)(m(_),m(ue),m(fe),m(A))},t.\u0275cmp=g({type:t,selectors:[["app-account-balance"]],standalone:!0,features:[y],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],["id","account-balance"],[3,"setTitle","setData1","setXTitle","setYTitle"],[1,"d-flex","justify-content-center"],["role","status",2,"width","3rem","height","3rem","margin-top","20%"]],template:function(r,o){if(r&1&&T(0,Oe,4,6,"div",1)(1,xe,3,0,"ng-template",null,0,G),r&2){let a=z(2);p("ngIf",o.loaded)("ngIfElse",a)}},dependencies:[Z,me,he,pe],styles:["#account-balance[_ngcontent-%COMP%]{background-color:#f3cef3;margin-left:10rem;margin-right:10rem;padding:2rem;border-radius:20px;box-shadow:0 6px 20px #0003,0 6px 20px #00000030;text-align:center;margin-top:2rem}"]});let i=t;return i})();var ye=[{path:"",component:ge},{path:"years",loadChildren:()=>import("./chunk-OAGKM4I7.js").then(i=>i.YearOverviewModule)},{path:"currency",loadChildren:()=>import("./chunk-7ICRUZ65.js").then(i=>i.CurrencyModule)}];var ke="@",Ee=(()=>{let t=class t{constructor(e,r,o,a,f){this.doc=e,this.delegate=r,this.zone=o,this.animationType=a,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=w(j,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-4DLZZVBF.js")).catch(r=>{throw new E(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,r){let o=this.delegate.createRenderer(e,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new x(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let Se=f.createRenderer(e,r);a.use(Se)}).catch(f=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){R()},t.\u0275prov=b({token:t,factory:t.\u0275fac});let i=t;return i})(),x=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,e,r){this.delegate.insertBefore(t,n,e,r)}removeChild(t,n,e){this.delegate.removeChild(t,n,e)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,e,r){this.delegate.setAttribute(t,n,e,r)}removeAttribute(t,n,e){this.delegate.removeAttribute(t,n,e)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,e,r){this.delegate.setStyle(t,n,e,r)}removeStyle(t,n,e){this.delegate.removeStyle(t,n,e)}setProperty(t,n,e){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(t,n,e)),this.delegate.setProperty(t,n,e)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,e){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(t,n,e)),this.delegate.listen(t,n,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(ke)}};function ve(i="animations"){return W("NgAsyncAnimations"),N([{provide:L,useFactory:(t,n,e)=>new Ee(t,n,e,i),deps:[H,Q,V]},{provide:P,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ye=M(D(),1),Me=M(D(),1),u=Me.default||Ye,k=new Y("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:we});function we(){return{useUtc:!1}}function Ne(i,t){let n=Array(i);for(let e=0;e<i;e++)n[e]=t(e);return n}var Pe=(()=>{let t=class t extends O{constructor(e,r){super(),this._options=r,this.setLocale(e||u.locale())}setLocale(e){super.setLocale(e);let r=u.localeData(e);this._localeData={firstDayOfWeek:r.firstDayOfWeek(),longMonths:r.months(),shortMonths:r.monthsShort(),dates:Ne(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:r.weekdays(),shortDaysOfWeek:r.weekdaysShort(),narrowDaysOfWeek:r.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return e=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return e=="long"?this._localeData.longDaysOfWeek:e=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,r,o){let a=this._createMoment({year:e,month:r,date:o}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(e,r){return e&&typeof e=="string"?this._createMoment(e,r,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,r){return e=this.clone(e),this.isValid(e),e.format(r)}addCalendarYears(e,r){return this.clone(e).add({years:r})}addCalendarMonths(e,r){return this.clone(e).add({months:r})}addCalendarDays(e,r){return this.clone(e).add({days:r})}toIso8601(e){return this.clone(e).format()}deserialize(e){let r;if(e instanceof Date)r=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if(typeof e=="string"){if(!e)return null;r=this._createMoment(e,u.ISO_8601).locale(this.locale)}return r&&this.isValid(r)?this._createMoment(r).locale(this.locale):super.deserialize(e)}isDateInstance(e){return u.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return u.invalid()}_createMoment(e,r,o){let{strict:a,useUtc:f}=this._options||{};return f?u.utc(e,r,o,a):u(e,r,o,a)}};t.\u0275fac=function(r){return new(r||t)(C(v,8),C(k,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac});let i=t;return i})(),Fe={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};function be(i=Fe,t){let n=[{provide:O,useClass:Pe,deps:[v,k]},{provide:ne,useValue:i}];return t&&n.push({provide:k,useValue:t}),n}var Re={parse:{dateInput:"DD.MM.YYYY"},display:{dateInput:"DD.MM.YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Te={providers:[re(ye),q(),ve(),be(Re),{provide:v,useValue:"de"}]};var Le=M(D()),_e=M(D());function je(i,t){if(i&1&&(s(0,"div")(1,"li",1)(2,"a",10),d(3),l()()()),i&2){let n=t.$implicit;c(2),J("id",n),$("href","years/",n,"",F),c(),U(n)}}var De=(()=>{let t=class t{constructor(e,r){this.transactionService=e,this.observer=r,this.years=[]}ngOnInit(){this.transactionService.getAllYears().subscribe({next:e=>this.years=e,error:e=>console.log(e)})}reset(){this.observer.detailNotify({type:"reset"})}};t.\u0275fac=function(r){return new(r||t)(m(_),m(A))},t.\u0275cmp=g({type:t,selectors:[["app-navigation"]],standalone:!0,features:[y],decls:25,vars:4,consts:[[1,"nav","flex-column"],[1,"nav-item"],["matTooltip","Home","href","",1,"nav-link","nav-icon",3,"matTooltipPosition"],["matTooltip","Geldwechselsrate","href","currency",1,"nav-link","nav-icon",3,"matTooltipPosition"],["matTooltip","Neue Transaktion","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"nav-link","nav-icon",3,"click","matTooltipPosition"],["aria-disabled","true",1,"nav-link","disabled"],[4,"ngFor","ngForOf"],["id","tool"],["mat-icon-button",""],["type","button","mat-icon-button","","matTooltip","Neue Transaktion","data-bs-toggle","modal","data-bs-target","#staticBackdrop",3,"click"],[1,"nav-link",3,"id","href"]],template:function(r,o){r&1&&(h(0,"app-create-transaction"),s(1,"ul",0)(2,"li",1)(3,"a",2)(4,"mat-icon"),d(5,"home"),l()()(),s(6,"li",1)(7,"a",3)(8,"mat-icon"),d(9,"currency_exchange"),l()()(),s(10,"li",1)(11,"a",4),I("click",function(){return o.reset()}),s(12,"mat-icon"),d(13,"payments"),l()()(),s(14,"li",1)(15,"a",5),d(16,"Jahr ausw\xE4hlen"),l()(),T(17,je,4,4,"div",6),l(),s(18,"div",7)(19,"button",8)(20,"mat-icon"),d(21,"arrow_back_ios"),l()(),s(22,"button",9),I("click",function(){return o.reset()}),s(23,"mat-icon"),d(24,"payments"),l()()()),r&2&&(c(3),p("matTooltipPosition","after"),c(4),p("matTooltipPosition","after"),c(4),p("matTooltipPosition","after"),c(6),p("ngForOf",o.years))},dependencies:[K,de,se,ae,oe,ie,ce,le],styles:["#tool[_ngcontent-%COMP%]{display:none;position:absolute;top:0;background-color:#f3cef3;border-top-left-radius:30px;border-bottom-left-radius:30px;transition:right .5s ease}#tool[_ngcontent-%COMP%]:hover{right:0}.nav-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{color:#000;cursor:pointer}"]});let i=t;return i})();var We=_e.default||Le,Ae=(()=>{let t=class t{sum(e){let r=0;for(let o of e)r+=o.value?o.value:0;return r}reformatDate(e){let r=e.split("-");return`${r[2]}-${r[1]}-${r[0]}`}numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}constructor(){this.title="konto-verwaltung-ui",We.updateLocale("de",{months:["Januar","Februar","Marsch","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Januar","Februar","Marsch","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],weekdays:["Ch\u1EE7 nh\u1EADt","Th\u1EE9 2","Th\u1EE9 3","Th\u1EE9 4","Th\u1EE9 5","Th\u1EE9 6","Th\u1EE9 7"],weekdaysShort:["Ch\u1EE7 nh\u1EADt","Th\u1EE9 2","Th\u1EE9 3","Th\u1EE9 4","Th\u1EE9 5","Th\u1EE9 6","Th\u1EE9 7"],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"]})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g({type:t,selectors:[["app-root"]],standalone:!0,features:[y],decls:4,vars:0,consts:[[1,"row"],[1,"col-1",2,"padding-right","0"],[1,"col",2,"margin","0","padding-left","0"]],template:function(r,o){r&1&&(s(0,"div",0),h(1,"app-navigation",1),s(2,"div",2),h(3,"router-outlet"),l()())},dependencies:[te,De],styles:["a[_ngcontent-%COMP%]{color:#000}"]});let i=t;return i})();ee(Ae,Te).catch(i=>console.error(i));
